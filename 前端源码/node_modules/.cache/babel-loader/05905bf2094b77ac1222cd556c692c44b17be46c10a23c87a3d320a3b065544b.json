{"ast":null,"code":"import { dataURLtoFile } from '../upload/util';\nimport { VueCropper } from 'vue-cropper';\nexport default {\n  name: \"CropperImage\",\n  components: {\n    VueCropper\n  },\n  data() {\n    return {\n      visible: false,\n      previews: {},\n      option: {}\n    };\n  },\n  methods: {\n    show() {\n      this.visible = true;\n    },\n    //图片缩放\n    changeScale(num) {\n      num = num || 1;\n      this.$refs.cropper.changeScale(num);\n    },\n    //向左旋转\n    rotateLeft() {\n      this.$refs.cropper.rotateLeft();\n    },\n    //向右旋转\n    rotateRight() {\n      this.$refs.cropper.rotateRight();\n    },\n    //实时预览函数\n    realTime(data) {\n      this.previews = data;\n    },\n    submit() {\n      this.visible = false;\n      this.$refs.cropper.getCropData(data => {\n        let result = data;\n        if (this.option.type === 'file') {\n          result = dataURLtoFile(data, `${new Date().getTime()}.${this.option.outputType}`);\n        }\n        this.option.callback && this.option.callback(result);\n      });\n    },\n    cancel(done) {\n      done && done();\n      this.visible = false;\n      this.option.cancel && this.option.cancel();\n      if (typeof this.option.beforeClose == \"function\") {\n        this.option.beforeClose();\n      }\n      this.$destroy();\n      this.$el.remove();\n    }\n  }\n};","map":{"version":3,"names":["dataURLtoFile","VueCropper","name","components","data","visible","previews","option","methods","show","changeScale","num","$refs","cropper","rotateLeft","rotateRight","realTime","submit","getCropData","result","type","Date","getTime","outputType","callback","cancel","done","beforeClose","$destroy","$el","remove"],"sources":["node_modules/avue-plugin-ueditor/packages/ueditor/src/image-cropper/index.vue"],"sourcesContent":["<template>\n  <el-dialog class=\"avue-dialog avue-cropper\"\n             :visible.sync=\"visible\"\n             :before-close=\"cancel\"\n             :close-on-press-escape=\"false\"\n             :close-on-click-modal=\"false\"\n             modal-append-to-body\n             append-to-body\n             width=\"1000px\">\n    <div class=\"cropper-content\">\n      <div class=\"cropper-box\">\n        <div class=\"cropper\">\n          <vue-cropper ref=\"cropper\"\n                       :img=\"option.img\"\n                       :outputSize=\"option.outputSize\"\n                       :outputType=\"option.outputType\"\n                       :info=\"option.info\"\n                       :canScale=\"option.canScale\"\n                       :autoCrop=\"option.autoCrop\"\n                       :autoCropWidth=\"option.autoCropWidth\"\n                       :autoCropHeight=\"option.autoCropHeight\"\n                       :fixed=\"option.fixed\"\n                       :fixedNumber=\"option.fixedNumber\"\n                       :full=\"option.full\"\n                       :fixedBox=\"option.fixedBox\"\n                       :canMove=\"option.canMove\"\n                       :canMoveBox=\"option.canMoveBox\"\n                       :original=\"option.original\"\n                       :centerBox=\"option.centerBox\"\n                       :height=\"option.height\"\n                       :infoTrue=\"option.infoTrue\"\n                       :maxImgSize=\"option.maxImgSize\"\n                       :enlarge=\"option.enlarge\"\n                       :mode=\"option.mode\"\n                       @realTime=\"realTime\">\n          </vue-cropper>\n        </div>\n        <!--底部操作工具按钮-->\n        <div class=\"footer-btn\">\n          <el-button size=\"mini\"\n                     type=\"danger\"\n                     icon=\"el-icon-zoom-in\"\n                     @click=\"changeScale(1)\"></el-button>\n          <el-button size=\"mini\"\n                     type=\"danger\"\n                     icon=\"el-icon-zoom-out\"\n                     @click=\"changeScale(-1)\"></el-button>\n          <el-button size=\"mini\"\n                     icon=\"el-icon-back\"\n                     type=\"danger\"\n                     @click=\"rotateLeft\"></el-button>\n          <el-button size=\"mini\"\n                     type=\"danger\"\n                     icon=\"el-icon-right\"\n                     @click=\"rotateRight\"></el-button>\n        </div>\n      </div>\n      <!--预览效果图-->\n      <div class=\"show-preview\">\n        <div :style=\"previews.div\"\n             class=\"preview\">\n          <img :src=\"previews.url\"\n               :style=\"previews.img\">\n        </div>\n      </div>\n    </div>\n    <span class=\"avue-dialog__footer\">\n      <el-button size=\"small\"\n                 type=\"primary\"\n                 @click=\"submit\">确认</el-button>\n      <el-button size=\"small\"\n                 @click=\"cancel()\">取消</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport { dataURLtoFile } from '../upload/util';\nimport { VueCropper } from 'vue-cropper'\nexport default {\n  name: \"CropperImage\",\n  components: {\n    VueCropper\n  },\n  data () {\n    return {\n      visible: false,\n      previews: {},\n      option: {}\n    };\n  },\n  methods: {\n    show () {\n      this.visible = true\n    },\n    //图片缩放\n    changeScale (num) {\n      num = num || 1\n      this.$refs.cropper.changeScale(num)\n    },\n    //向左旋转\n    rotateLeft () {\n      this.$refs.cropper.rotateLeft()\n    },\n    //向右旋转\n    rotateRight () {\n      this.$refs.cropper.rotateRight()\n    },\n    //实时预览函数\n    realTime (data) {\n      this.previews = data\n    },\n    submit () {\n      this.visible = false\n      this.$refs.cropper.getCropData(data => {\n        let result = data\n        if (this.option.type === 'file') {\n          result = dataURLtoFile(data, `${new Date().getTime()}.${this.option.outputType}`)\n        }\n        this.option.callback && this.option.callback(result)\n      })\n    },\n    cancel (done) {\n      done && done()\n      this.visible = false\n      this.option.cancel && this.option.cancel()\n      if (typeof this.option.beforeClose == \"function\") {\n        this.option.beforeClose();\n      }\n      this.$destroy();\n      this.$el.remove();\n    }\n  }\n}\n</script>\n<style scoped lang=\"scss\">\n.avue-cropper {\n  .cropper-content {\n    display: flex;\n    justify-content: flex-end;\n    .cropper-box {\n      flex: 1;\n      width: 100%;\n      .cropper {\n        width: auto;\n        height: 300px;\n      }\n    }\n    .show-preview {\n      flex: 1;\n      display: flex;\n      justify-content: center;\n      .preview {\n        overflow: hidden;\n        border: 1px solid #67c23a;\n        background: #cccccc;\n      }\n    }\n    .footer-btn {\n      margin-top: 30px;\n      display: flex;\n      justify-content: center;\n      padding-right: 10px;\n    }\n  }\n}\n</style>"],"mappings":"AA6EA,SAAAA,aAAA;AACA,SAAAC,UAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,KAAA;MACA,KAAAJ,OAAA;IACA;IACA;IACAK,YAAAC,GAAA;MACAA,GAAA,GAAAA,GAAA;MACA,KAAAC,KAAA,CAAAC,OAAA,CAAAH,WAAA,CAAAC,GAAA;IACA;IACA;IACAG,WAAA;MACA,KAAAF,KAAA,CAAAC,OAAA,CAAAC,UAAA;IACA;IACA;IACAC,YAAA;MACA,KAAAH,KAAA,CAAAC,OAAA,CAAAE,WAAA;IACA;IACA;IACAC,SAAAZ,IAAA;MACA,KAAAE,QAAA,GAAAF,IAAA;IACA;IACAa,OAAA;MACA,KAAAZ,OAAA;MACA,KAAAO,KAAA,CAAAC,OAAA,CAAAK,WAAA,CAAAd,IAAA;QACA,IAAAe,MAAA,GAAAf,IAAA;QACA,SAAAG,MAAA,CAAAa,IAAA;UACAD,MAAA,GAAAnB,aAAA,CAAAI,IAAA,SAAAiB,IAAA,GAAAC,OAAA,WAAAf,MAAA,CAAAgB,UAAA;QACA;QACA,KAAAhB,MAAA,CAAAiB,QAAA,SAAAjB,MAAA,CAAAiB,QAAA,CAAAL,MAAA;MACA;IACA;IACAM,OAAAC,IAAA;MACAA,IAAA,IAAAA,IAAA;MACA,KAAArB,OAAA;MACA,KAAAE,MAAA,CAAAkB,MAAA,SAAAlB,MAAA,CAAAkB,MAAA;MACA,gBAAAlB,MAAA,CAAAoB,WAAA;QACA,KAAApB,MAAA,CAAAoB,WAAA;MACA;MACA,KAAAC,QAAA;MACA,KAAAC,GAAA,CAAAC,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}