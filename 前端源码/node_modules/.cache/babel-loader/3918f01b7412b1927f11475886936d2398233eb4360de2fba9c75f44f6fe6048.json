{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport BoxBorder from \"@/views/component/BoxBorder\";\nimport Count from \"@/api/Count\";\nexport default {\n  name: \"BoxView1\",\n  components: {\n    BoxBorder\n  },\n  data() {\n    return {\n      data: [],\n      lock: false,\n      beforeMouse: {},\n      mouse: {}\n    };\n  },\n  methods: {\n    onLoad() {\n      Count.count2(\"板块资金流今日跌涨幅\").then(res => {\n        let data = res.data.map(item => ({\n          ...item,\n          otherValue: parseFloat(item.value.replace(\"%\", '').replace('-', '')),\n          type: item.value.indexOf(\"-\") === -1 ? 1 : -1\n        }));\n        for (let i = 0; i < data.length; i++) {\n          for (let j = i + 1; j < data.length; j++) {\n            if (data[i].otherValue < data[j].otherValue) {\n              let t = data[i];\n              data[i] = data[j];\n              data[j] = t;\n            }\n          }\n        }\n        let top = 0;\n        let bottom = 0;\n        let dataCopy = [];\n        for (let item of data) {\n          if (item.type === 1 && top < 3) {\n            dataCopy.push(item);\n            top++;\n          }\n          if (item.type === -1 && bottom < 3) {\n            dataCopy.push(item);\n            bottom++;\n          }\n        }\n        console.log(dataCopy.length, top, bottom);\n        this.data = dataCopy;\n      });\n    }\n  },\n  mounted() {\n    document.addEventListener('mousemove', event => {\n      this.mouse.x = event.clientX;\n      this.mouse.y = event.clientY;\n    });\n  },\n  created() {\n    this.onLoad();\n    setInterval(() => {\n      this.lock = this.beforeMouse.x === this.mouse.x && this.beforeMouse.y === this.mouse.y;\n      this.beforeMouse.x = this.mouse.x;\n      this.beforeMouse.y = this.mouse.y;\n    }, 400);\n    setInterval(() => {\n      if (!this.lock) {\n        return;\n      }\n      this.onLoad();\n    }, 3000);\n  }\n};","map":{"version":3,"names":["BoxBorder","Count","name","components","data","lock","beforeMouse","mouse","methods","onLoad","count2","then","res","map","item","otherValue","parseFloat","value","replace","type","indexOf","i","length","j","t","top","bottom","dataCopy","push","console","log","mounted","document","addEventListener","event","x","clientX","y","clientY","created","setInterval"],"sources":["src/views/component/BoxView4.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"height: calc(100% - 20px); width: calc(100% - 20px); margin: 0 auto; position: relative;\">\r\n      <box-border style=\"height: 100%;\"/>\r\n      <div style=\"position:absolute; top: 0; width: 100%; height: 100%;\">\r\n        <div class=\"box-bg\" style=\"text-align: center; font-size: 20px; color: #FFFFFF; line-height: 35px;\">\r\n          今日跌涨幅\r\n        </div>\r\n        <div style=\" height: calc(100% - 65px); overflow:auto;\">\r\n          <div>\r\n            <div class=\"box-text-bg select-item\" style=\"margin: 10px 20px;\">\r\n              <div style=\"height: 40px; line-height: 40px; padding-left: 20px;\">板块名称</div>\r\n              <div style=\"height: 40px; line-height: 40px; padding-right: 20px;\">今日涨跌幅</div>\r\n            </div>\r\n            <div class=\"box-text-bg\" style=\"height: unset; margin: 0 20px;\">\r\n              <div class=\"select-item\" v-for=\"(item, index) in data\" :key=\"index\" >\r\n                <div style=\"height: 40px; line-height: 40px;\">{{item.name}}</div>\r\n                <div style=\"height: 40px; line-height: 40px;\">\r\n                  {{item.value}}\r\n                  <i v-if=\"item.type === 1\" class=\"el-icon-top\" style=\"color: #F56C6C\"/>\r\n                  <i v-if=\"item.type === -1\" class=\"el-icon-bottom\" style=\"color: #67C23A\"/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BoxBorder from \"@/views/component/BoxBorder\";\r\nimport Count from \"@/api/Count\";\r\nexport default {\r\n  name: \"BoxView1\",\r\n  components: {BoxBorder},\r\n  data() {\r\n    return {\r\n      data: [\r\n      ],\r\n      lock: false,\r\n      beforeMouse: {},\r\n      mouse: {},\r\n    }\r\n  },\r\n  methods: {\r\n    onLoad() {\r\n      Count.count2(\"板块资金流今日跌涨幅\").then(res => {\r\n        let data = res.data.map(item => ({\r\n          ...item,\r\n          otherValue: parseFloat(item.value.replace(\"%\", '').replace('-', '')),\r\n          type: item.value.indexOf(\"-\") === -1 ? 1 : -1,\r\n        }));\r\n        for(let i = 0; i<data.length; i++) {\r\n          for(let j = i + 1; j<data.length; j++) {\r\n            if (data[i].otherValue < data[j].otherValue) {\r\n              let t = data[i];\r\n              data[i] = data[j];\r\n              data[j] = t;\r\n            }\r\n          }\r\n        }\r\n\r\n        let top = 0;\r\n        let bottom = 0;\r\n        let dataCopy = [];\r\n        for(let item of data) {\r\n          if (item.type === 1 && top < 3) {\r\n            dataCopy.push(item);\r\n            top++;\r\n          }\r\n          if (item.type === -1 && bottom < 3) {\r\n            dataCopy.push(item);\r\n            bottom++;\r\n          }\r\n        }\r\n        console.log(dataCopy.length, top, bottom);\r\n        this.data = dataCopy;\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    document.addEventListener('mousemove', (event) => {\r\n      this.mouse.x = event.clientX;\r\n      this.mouse.y = event.clientY;\r\n    });\r\n  },\r\n  created() {\r\n    this.onLoad();\r\n\r\n    setInterval(() => {\r\n      this.lock = this.beforeMouse.x === this.mouse.x && this.beforeMouse.y === this.mouse.y;\r\n      this.beforeMouse.x = this.mouse.x;\r\n      this.beforeMouse.y = this.mouse.y;\r\n    }, 400);\r\n    setInterval(() => {\r\n      if (!this.lock) {\r\n        return;\r\n      }\r\n      this.onLoad();\r\n    }, 3000)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.select-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #FFFFFF;\r\n  padding: 0 30px;\r\n  margin: 0 20px 0 20px;\r\n}\r\n</style>"],"mappings":";AAgCA,OAAAA,SAAA;AACA,OAAAC,KAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAH;EAAA;EACAI,KAAA;IACA;MACAA,IAAA,IACA;MACAC,IAAA;MACAC,WAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACAR,KAAA,CAAAS,MAAA,eAAAC,IAAA,CAAAC,GAAA;QACA,IAAAR,IAAA,GAAAQ,GAAA,CAAAR,IAAA,CAAAS,GAAA,CAAAC,IAAA;UACA,GAAAA,IAAA;UACAC,UAAA,EAAAC,UAAA,CAAAF,IAAA,CAAAG,KAAA,CAAAC,OAAA,UAAAA,OAAA;UACAC,IAAA,EAAAL,IAAA,CAAAG,KAAA,CAAAG,OAAA;QACA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAjB,IAAA,CAAAkB,MAAA,EAAAD,CAAA;UACA,SAAAE,CAAA,GAAAF,CAAA,MAAAE,CAAA,GAAAnB,IAAA,CAAAkB,MAAA,EAAAC,CAAA;YACA,IAAAnB,IAAA,CAAAiB,CAAA,EAAAN,UAAA,GAAAX,IAAA,CAAAmB,CAAA,EAAAR,UAAA;cACA,IAAAS,CAAA,GAAApB,IAAA,CAAAiB,CAAA;cACAjB,IAAA,CAAAiB,CAAA,IAAAjB,IAAA,CAAAmB,CAAA;cACAnB,IAAA,CAAAmB,CAAA,IAAAC,CAAA;YACA;UACA;QACA;QAEA,IAAAC,GAAA;QACA,IAAAC,MAAA;QACA,IAAAC,QAAA;QACA,SAAAb,IAAA,IAAAV,IAAA;UACA,IAAAU,IAAA,CAAAK,IAAA,UAAAM,GAAA;YACAE,QAAA,CAAAC,IAAA,CAAAd,IAAA;YACAW,GAAA;UACA;UACA,IAAAX,IAAA,CAAAK,IAAA,WAAAO,MAAA;YACAC,QAAA,CAAAC,IAAA,CAAAd,IAAA;YACAY,MAAA;UACA;QACA;QACAG,OAAA,CAAAC,GAAA,CAAAH,QAAA,CAAAL,MAAA,EAAAG,GAAA,EAAAC,MAAA;QACA,KAAAtB,IAAA,GAAAuB,QAAA;MACA;IACA;EACA;EACAI,QAAA;IACAC,QAAA,CAAAC,gBAAA,cAAAC,KAAA;MACA,KAAA3B,KAAA,CAAA4B,CAAA,GAAAD,KAAA,CAAAE,OAAA;MACA,KAAA7B,KAAA,CAAA8B,CAAA,GAAAH,KAAA,CAAAI,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAA9B,MAAA;IAEA+B,WAAA;MACA,KAAAnC,IAAA,QAAAC,WAAA,CAAA6B,CAAA,UAAA5B,KAAA,CAAA4B,CAAA,SAAA7B,WAAA,CAAA+B,CAAA,UAAA9B,KAAA,CAAA8B,CAAA;MACA,KAAA/B,WAAA,CAAA6B,CAAA,QAAA5B,KAAA,CAAA4B,CAAA;MACA,KAAA7B,WAAA,CAAA+B,CAAA,QAAA9B,KAAA,CAAA8B,CAAA;IACA;IACAG,WAAA;MACA,UAAAnC,IAAA;QACA;MACA;MACA,KAAAI,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}